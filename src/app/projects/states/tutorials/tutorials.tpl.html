<div class="container" id="tutorials-state">
  <div class="panel panel-default">
    <div class="panel-heading">
      <h4 class="panel-title">Select a Tutorial</h4>
    </div>
    <div class="panel-body">
      <p>
        Click the plus on the specific tutorial to enrol in that tutorial, or click the minus icon to withdraw from your
        current tutorial.
      </p>
    </div>
    <table class="table table-condensed table-hover">
      <thead>
        <tr>
          <th class="stream" ng-show="unit.tutorialStreamsCache.size > 0">
            <a ng-click="sortOrder='tutorialStream.name'; reverse=!reverse">Stream</a>
          </th>
          <th class="campus">
            <a ng-click="sortOrder='campus.name'; reverse=!reverse">Campus</a>
          </th>
          <th class="code">
            <a ng-click="sortOrder='abbreviation'; reverse=!reverse">Code</a>
          </th>
          <th class="day">
            <a ng-click="sortOrder='meetingDay'; reverse=!reverse">Day</a>
          </th>
          <th class="time">
            <a ng-click="sortOrder='meetingTime'; reverse=!reverse">Time</a>
          </th>
          <th class="room">
            <a ng-click="sortOrder='meetingLocation'; reverse=!reverse">Room</a>
          </th>
          <th class="tutor">
            <a ng-click="sortOrder='tutorName'; reverse=!reverse">Tutor</a>
          </th>
          <th class="actions">Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr
          ng-repeat="tutorial in unit.tutorials | tutorialCampusFilter:project | orderBy:sortOrder:reverse"
          ng-class="{'info': tutorial == project.tutorial}"
        >
          <td ng-show="unit.tutorialStreamsCache.size > 0">{{tutorial.tutorialStream.name || 'All'}}</td>
          <td>{{tutorial.campus ? tutorial.campus.name : 'All'}}</td>
          <td>{{tutorial.abbreviation}}</td>
          <td>{{tutorial.meetingDay}}</td>
          <td>{{tutorial.meetingTime | date: 'shortTime'}}</td>
          <td>{{tutorial.meetingLocation}}</td>
          <td>{{tutorial.tutorName}}</td>
          <td>
            <button
              class="btn btn-default btn-sm"
              ng-click="project.switchToTutorial(tutorial)"
              ng-hide="project.isEnrolledIn(tutorial) || !tutorial.hasCapacity()"
            >
              <i class="fa fa-plus"></i> Enrol
            </button>
            <button
              class="btn btn-default btn-sm"
              ng-click="project.switchToTutorial(tutorial)"
              ng-show="project.isEnrolledIn(tutorial)"
            >
              <i class="fa fa-minus"></i> Withdraw
            </button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>
</div>
